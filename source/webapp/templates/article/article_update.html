{% extends 'base.html' %}

{% block title %}Обновление{% endblock %}

{% block menu %}
    <li><a href="{% url 'webapp:article_view' article.pk %}">Отмена</a></li>
{% endblock %}

{% block content %}
    <h1>Обновить статью</h1>

    <form action="{% url "webapp:article_update" article.pk %}" method="post">
        {% csrf_token %}

        <label>Заголовок:</label><br/>
        <input type="text" name="title" value="{{ article.title }}" required/><br/>
        {% if errors.title %}<p class="error">{{ errors.title }}</p>{% endif %}

        <label>Текст:</label><br/>
        <textarea name="text" required>{{ article.text }}</textarea><br/>
        {% if errors.text %}<p class="error">{{ errors.text }}</p>{% endif %}

        <label>Автор:</label><br/>
        <input type="text" name="author" value="{{ article.author }}" required/><br/>
        {% if errors.author %}<p class="error">{{ errors.author }}</p>{% endif %}

        <label for="id-status">Статус: </label><br/>
        <select name="status" id="id-status">
            {% for value, label in status_choices %}
                <option value="{{ value }}"
                        {% if value == article.status %}selected{% endif %}>
                    {{ label }}
                </option>
            {% endfor %}
        </select><br/>

        <br/>
        <input type="submit" value="Send"/>
    </form>
{% endblock %}